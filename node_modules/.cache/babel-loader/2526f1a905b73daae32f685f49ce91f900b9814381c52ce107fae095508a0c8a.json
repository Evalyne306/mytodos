{"ast":null,"code":"import _slicedToArray from\"/home/student/Development/mytodos/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Switch,Route}from\"react-router-dom\";import SignUp from\"./SignUp\";import Login from\"./Login\";import NavBar from\"./NavBar\";import Home from\"./Home\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){// auto-login\nfetch(\"/user/login/check\").then(function(r){if(r.ok){r.json().then(function(user){return setUser(user);});}});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{user:user,setUser:setUser}),/*#__PURE__*/_jsx(\"main\",{children:user?/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(Route,{path:\"/\",children:/*#__PURE__*/_jsx(Home,{user:user})})}):/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/signup\",children:/*#__PURE__*/_jsx(SignUp,{setUser:setUser})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",children:/*#__PURE__*/_jsx(Login,{setUser:setUser})}),/*#__PURE__*/_jsx(Route,{path:\"/\",children:/*#__PURE__*/_jsx(Home,{})})]})})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Switch","Route","SignUp","Login","NavBar","Home","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_useState","_useState2","_slicedToArray","user","setUser","fetch","then","r","ok","json","children","path"],"sources":["/home/student/Development/mytodos/src/components/App.js"],"sourcesContent":["\nimport React, { useEffect, useState } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport SignUp from \"./SignUp\";\nimport Login from \"./Login\";\nimport NavBar from \"./NavBar\";\nimport Home from \"./Home\";\n\n\nfunction App() {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    // auto-login\n    fetch(\"/user/login/check\").then((r) => {\n      if (r.ok) {\n        r.json().then((user) => setUser(user));\n      }\n    });\n  }, []);\n\n  return (\n    <>\n      <NavBar user={user} setUser={setUser} />\n      <main>\n        {user ? (\n          <Switch>\n            <Route path=\"/\">\n              <Home user={user}/>\n            </Route>\n          </Switch>\n        ) : (\n          <Switch>\n            <Route path=\"/signup\">\n              <SignUp setUser={setUser} />\n            </Route>\n            <Route path=\"/login\">\n              <Login setUser={setUser} />\n            </Route>\n        \n            <Route path=\"/\">\n              <Home />\n            </Route>\n          </Switch>\n        )}\n      </main>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"uHACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CAChD,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,IAAI,KAAM,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAG1B,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,IAAAC,SAAA,CAAwBd,QAAQ,CAAC,IAAI,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAEpBhB,SAAS,CAAC,UAAM,CACd;AACAoB,KAAK,CAAC,mBAAmB,CAAC,CAACC,IAAI,CAAC,SAACC,CAAC,CAAK,CACrC,GAAIA,CAAC,CAACC,EAAE,CAAE,CACRD,CAAC,CAACE,IAAI,EAAE,CAACH,IAAI,CAAC,SAACH,IAAI,QAAK,CAAAC,OAAO,CAACD,IAAI,CAAC,GAAC,CACxC,CACF,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEP,KAAA,CAAAE,SAAA,EAAAY,QAAA,eACEhB,IAAA,CAACH,MAAM,EAACY,IAAI,CAAEA,IAAK,CAACC,OAAO,CAAEA,OAAQ,EAAG,cACxCV,IAAA,SAAAgB,QAAA,CACGP,IAAI,cACHT,IAAA,CAACP,MAAM,EAAAuB,QAAA,cACLhB,IAAA,CAACN,KAAK,EAACuB,IAAI,CAAC,GAAG,CAAAD,QAAA,cACbhB,IAAA,CAACF,IAAI,EAACW,IAAI,CAAEA,IAAK,EAAE,EACb,EACD,cAETP,KAAA,CAACT,MAAM,EAAAuB,QAAA,eACLhB,IAAA,CAACN,KAAK,EAACuB,IAAI,CAAC,SAAS,CAAAD,QAAA,cACnBhB,IAAA,CAACL,MAAM,EAACe,OAAO,CAAEA,OAAQ,EAAG,EACtB,cACRV,IAAA,CAACN,KAAK,EAACuB,IAAI,CAAC,QAAQ,CAAAD,QAAA,cAClBhB,IAAA,CAACJ,KAAK,EAACc,OAAO,CAAEA,OAAQ,EAAG,EACrB,cAERV,IAAA,CAACN,KAAK,EAACuB,IAAI,CAAC,GAAG,CAAAD,QAAA,cACbhB,IAAA,CAACF,IAAI,IAAG,EACF,GAEX,EACI,GACN,CAEP,CAEA,cAAe,CAAAO,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}